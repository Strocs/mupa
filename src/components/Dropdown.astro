---
import { nameToPath } from "@utils/nameToPath";
interface Props {
  list: Array<string>;
  title?: string;
}

const { list, title } = Astro.props;
---

<li
  class="w-fit text-dark-grey font-source-code group/link group-hover/nav:opacity-60 hover:!opacity-100 transition-opacity duration-150 relative"
>
  <input type="checkbox" id="dropdown-menu" hidden class="peer" />
  <label
    for="dropdown-menu"
    class="flex items-center gap-1 justify-center cursor-pointer"
  >
    {title}
    <svg
      class="h-5 w-5 inline-block mt-1"
      viewBox="0 0 20 20"
      fill="currentColor"
      aria-hidden="true"
    >
      <path
        fill-rule="evenodd"
        d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
        clip-rule="evenodd"></path>
    </svg>
  </label>
  <ul
    role="list"
    class="rounded-md h-0
flex-col lg:items-end text-sm peer-checked:h-[11rem] bg-white overflow-hidden flex whitespace-nowrap transition-all duration-150s group/dropdown-list z-20"
  >
    {
      list.map((item) => (
        <li class="w-fit text-dark-grey font-source-code group/dropdown-item p-1 group-hover/dropdown-list:opacity-50 hover:!opacity-100 ml-16">
          <a href={nameToPath({ name: item })}>
            {item}
            <div class="bg-light-grey h-px w-0 group-hover/dropdown-item:w-full transition-[width] duration-150" />
          </a>
        </li>
      ))
    }
  </ul>
</li>
